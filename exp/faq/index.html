<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://subpatch.net/exp/faq/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Frequently asked questions - subpatch</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Frequently asked questions";
        var mkdocs_page_input_path = "exp/faq.md";
        var mkdocs_page_url = "/exp/faq/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script>
    <script>
        !function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.crossOrigin="anonymous",p.async=!0,p.src=s.api_host.replace(".i.posthog.com","-assets.i.posthog.com")+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="init be ys Ss me gs ws capture Ne calculateEventProperties xs register register_once register_for_session unregister unregister_for_session Rs getFeatureFlag getFeatureFlagPayload isFeatureEnabled reloadFeatureFlags updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures on onFeatureFlags onSurveysLoaded onSessionId getSurveys getActiveMatchingSurveys renderSurvey canRenderSurvey canRenderSurveyAsync identify setPersonProperties group resetGroups setPersonPropertiesForFlags resetPersonPropertiesForFlags setGroupPropertiesForFlags resetGroupPropertiesForFlags reset get_distinct_id getGroups get_session_id get_session_replay_url alias set_config startSessionRecording stopSessionRecording sessionRecordingStarted captureException loadToolbar get_property getSessionProperty Is ks createPersonProfile Ps bs opt_in_capturing opt_out_capturing has_opted_in_capturing has_opted_out_capturing clear_opt_in_out_capturing $s debug Es getPageViewId captureTraceFeedback captureTraceMetric".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
        posthog.init('phc_chUAcZwaWKpnTf7BKG3taQVBVo1lxKQMML3la6Z9eSE', {
            api_host: 'https://eu.i.posthog.com',
            defaults: '2025-05-24',
            persistence: 'memory',
            person_profiles: 'identified_only', // or 'always' to create profiles for anonymous users as well
        })
    </script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> subpatch
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Explanations</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../intro/">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../learnings/">Learnings</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../requirements/">Requirements</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../comparison/">Comparison to other tools</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../benefits/">Benefits and drawbacks</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">Frequently asked questions</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#what-does-the-name-subpatch-mean">What does the name subpatch mean?</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#subpatch-is-just-another-wrapper-around-git-right">subpatch is just another wrapper around git, right?</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#does-subpatch-increase-the-storage-requirements-on-the-source-control-servers">Does subpatch increase the storage requirements on the source control servers?</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#subpatch-makes-the-checkout-bigger">Subpatch makes the checkout bigger!</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#subpatch-promotes-vendoring-of-dependencies-i-have-heard-that-this-is-bad">subpatch promotes vendoring of dependencies. I have heard that this is bad!</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#are-you-a-fan-of-monorepos">Are you a fan of monorepos?</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#im-using-subpatch-for-my-200-gb-source-code-project-and-i-have-git-scaling-issues-now-what-should-i-do">I'm using subpatch for my &gt;200 GB source code project and I have git scaling issues now! What should I do?</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../design/">Design decisions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../impl/">Implementation details</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Tutorials</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../tut/installation/">Installation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tut/basic-usage/">Basic usage</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tut/applying-patches/">Applying patches</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">How-to guides</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../howto/yocto/">Project based on Yocto</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Reference</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../ref/command-line/">Command line arguments</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../ref/format/">Format</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../ref/glossary/">Glossary</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../ref/releases/">Releases</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../ref/froscon25/">FrOSCon 25</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../ref/fosdem25/">FOSDEM 25</a>
                  </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../imprint/">Imprint</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">subpatch</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Explanations</li>
      <li class="breadcrumb-item active">Frequently asked questions</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="frequently-asked-questions">Frequently asked questions</h1>
<h2 id="what-does-the-name-subpatch-mean">What does the name <em>subpatch</em> mean?</h2>
<p>The name subpatch consists of two parts: <em>sub</em> and <em>patch</em></p>
<p>The term <em>sub</em> is inspired by <code>git submodules</code> and <code>git subtree</code>. Both use the
prefix <code>sub</code>, because the act on <em>sub</em>directories. subpatch does the same.
Third party dependencies (=subprojects) are added as subdirectories to the
superproject.</p>
<p>The second term <em>patch</em> stands for patching the source code. subpatch allows to
maintain a linear patch stack on top of the subproject. It's a unique
distinction for a multi repository management tool to promote it as a primary
feature like subpatch.  As far as I know, only kas also supports local
patching, but it's not a primary feature of it.</p>
<h2 id="subpatch-is-just-another-wrapper-around-git-right">subpatch is just another wrapper around git, right?</h2>
<p>No, subpatch is not another wrapper around git. Like git submodules or git
subtree, subpatch is an extension to git.</p>
<p>Refere to the learning (L1) on <a href="../learnings/">Learnings</a>: The
solution to the multi repository problem is inside of git (or generally inside
any version control system).</p>
<p>E.g., look at two common operations for SCM tools: tagging and switches
branches. For subpatch <code>git switch</code> and <code>git tag</code> just work as before. When
tagging a release, all source code files and all subprojects are tagged with a
single command and a single tag. Same for <code>git switch</code>. With the same command,
all source code files and all subprojects are switched to a different branch.</p>
<p>Now look at the repo tool, which I call a wrapper around git. How does tagging
work? There is no single command to tag the whole superproject. You have to
perform multiple steps</p>
<pre><code>$ repo forall git tag -a ... # tag all subprojects individually
$ repo forall git push &lt;remote name&gt; &lt;tagname&gt;

# Now continue in the manifest repository
$ cd ../manifest-repo
$ vim manifest.xml  # replace default revision with newly create tag
$ git commit -a -m "add tag in release manifest"
$ git push origin HEAD:refs/heads/release-xy
</code></pre>
<p>So just making a release, consists of multiple steps. And the whole process is
error prone and not atomic. If you make a error somewhere, there is no easy way
to roll back everything.</p>
<p>It's the same issue apply when switching branches. The repo tool does not
support an easy way to checkout the branches of pull request/merged. For that
some of my coworkers and I coded our own tool. See
<a href="https://github.com/lengfeld/repoload">repoload</a>.</p>
<p>That's why I call repo and other tools "a wrapper around git", because existing
features of a SCM tool are reimplemented or need to be reimplemented. And
subpatch is carefully designed to not be a wrapper around git.</p>
<h2 id="does-subpatch-increase-the-storage-requirements-on-the-source-control-servers">Does subpatch increase the storage requirements on the source control servers?</h2>
<p>Yes, it does! But that is mostly good thing for you!</p>
<p>If you previously used git submodules, repo or other tools for your superproject and now
start to use subpatch, your repository will grow in size. The files of your
dependencies are directly in our repository (superproject) now. So they are
downloaded when you do a <code>git clone</code> or a co-worker does a <code>git fetch</code>.</p>
<p>In the case of git submodules, repo and other tools <em>and</em> you have <strong>not</strong>
mirrored the subprojects on our own source control servers, you clone the
subprojects from the original upstream servers. So the files are not in your
repository on our server, but only in the upstream repositories.</p>
<p>So yes, the storage requirements on your source control servers increases.</p>
<p>But … it's mostly a good thing! Reasons:</p>
<ul>
<li>When using CI (continuous integration) and forgetting to configure a cache,
  git submodules, repo and others would continuously pull the dependencies from
  upstream. This increases the ingress traffic of your CI infrastructure and
  causes network traffic for the upstream project. That is not nice.</li>
<li>When building a product, relying (open source) upstream to provide and
  maintaining the source code for a long time is risky. You should be able to
  reproduce the exact source code for compliance and bug-fixing reasons for all
  of your software releases.</li>
</ul>
<p>And your local storage requirement on your development machine and in your CI
pipeline will <strong>not</strong> change. Also git submodules, repo and others tools
download and checkout the subprojects, e.g. git repositories, for building the
software.</p>
<p>subpatch mostly will even reduce the storage size because of DD6: The history
of the upstream project is not included in the superproject. When using git
submodules, repo or others and you don't configure anything, git repositories
are not cloned with <code>--depth=1</code> by default. So you get the full history in your
local checkout.</p>
<h2 id="subpatch-makes-the-checkout-bigger">Subpatch makes the checkout bigger!</h2>
<p>No, the whole checkout does not get larger. You have to take all the
dependencies or subprojects in your multi repository setup into account.</p>
<p>subpatch makes the checkout maybe even smaller. See previous answer.</p>
<h2 id="subpatch-promotes-vendoring-of-dependencies-i-have-heard-that-this-is-bad">subpatch promotes vendoring of dependencies. I have heard that this is bad!</h2>
<p>Yes and no.</p>
<p>TODO explain</p>
<h2 id="are-you-a-fan-of-monorepos">Are you a fan of monorepos?</h2>
<p>Yes, I am (to some extend).</p>
<p>TODO Explain more.</p>
<h2 id="im-using-subpatch-for-my-200-gb-source-code-project-and-i-have-git-scaling-issues-now-what-should-i-do">I'm using subpatch for my &gt;200 GB source code project and I have git scaling issues now! What should I do?</h2>
<p>Ok, that's an issue. But if you are at this scale, you should also have
resources in your organization to invest in better tooling. ;-) E.g. Microsoft
has invested <a href="https://github.com/microsoft/scalar">resources into scaling git for big projects</a>.
It started out as a fork of git and extra tooling, but now is integrated into git itself.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../benefits/" class="btn btn-neutral float-left" title="Benefits and drawbacks"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../design/" class="btn btn-neutral float-right" title="Design decisions">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p>Copyright © 2024-2025 Stefan Lengfeld (This website is licensed under CC BY-SA 4.0)</p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../benefits/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../design/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
