<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://subpatch.net/exp/intro/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Introduction - subpatch</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Introduction";
        var mkdocs_page_input_path = "exp/intro.md";
        var mkdocs_page_url = "/exp/intro/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> subpatch
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Explanations</span></p>
              <ul class="current">
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">Introduction</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#example-1-cc-library-as-source-dependency">Example 1: C/C++ library as source dependency</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#example-2-embedded-linux-firmware-based-on-yocto">Example 2: Embedded Linux firmware based on Yocto</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#recap">Recap</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../history/">Pre-subpatch history</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../design/">subpatch design</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../comparison/">Comparison to other tools</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Tutorials</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../tut/installation/">Installation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tut/basic-usage/">Basic usage</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Reference</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../ref/command-line/">Command line arguments</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../ref/glossary/">Glossary</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../ref/releases/">Releases</a>
                  </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../imprint/">Imprint</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">subpatch</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Explanations</li>
      <li class="breadcrumb-item active">Introduction</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="introduction">Introduction</h1>
<p>Welcome to the realm of multi-repository management and third-party source
dependencies. Even if you are an experienced software developer, you may not
have encountered this issue in your career already.  It only arises when
working on larger software projects, managing inter-team software dependencies,
or in the field of embedded software engineering.</p>
<p>This page explains the issue with two examples:</p>
<ul>
<li>Example 1: C/C++ library as source dependency</li>
<li>Example 2: multi repository project for linux embedded firmware</li>
</ul>
<h2 id="example-1-cc-library-as-source-dependency">Example 1: C/C++ library as source dependency</h2>
<p>This example illustrates a third party source dependency.</p>
<p>I maintain a small C/C++ library called
<a href="https://github.com/lengfeld/aminilog">aminilog</a>. It's useful when writing
C/C++ code in an Android Application project that uses the
<a href="https://developer.android.com/ndk/">Android NDK</a>
(Native Development toolkit). The library provides ready to use logging macros,
because the NDK only contains the low level APIs for logging.</p>
<p>I publish the library as a plain git repository. Since it is really
simple, there are no release tarballs or tags and no binary artifacts. Also
binary artifacts would do not make sense, because all of the library content
are C/C++ macros that must be evaluated at compile time.</p>
<p>In 2023 I prepared a talk about the
<a href="https://www.youtube.com/watch?v=NKP4JcVegbY">Glass-To-Glass-Latency in Android</a>.
For my latency experiments I created a git repository and needed the above
mentioned C/C++ library as a source dependency.  I develop an Android
Application that could perform various tests and experiments. The code of the
application is on github in the repo
<a href="https://github.com/inovex/android-glass-to-glass-latency/">inovex/android-glass-to-glass-latency</a>.</p>
<p>In this application I also used the Android NDK to write some C++ code to
access some libc functions from Java and to trigger the torch light of the
Pixel2 phone as fast as possible.  And while written and testing the C++ code I
needed to write some log messages.  Therefore I imported my aminilog library as
a source dependency into the project. The commands were roughly the following:</p>
<pre><code>$ mkdir external/
$ cd external/
$ git clone https://github.com/lengfeld/aminilog.git
$ rm -rf aminilog/.git
$ git add aminilog/
$ git commit -m "add aminilog dependency"
</code></pre>
<p>And then I integrated the library into the cmake build systems by adding the line</p>
<pre><code>add_subdirectory(../../../../pixeltorch pixeltorch)
[...]
target_link_libraries(${PROJECT_NAME} android [...] aminilog)
</code></pre>
<p>into the <code>CMakeLists.txt</code>.</p>
<p>That was all. I added the source files of the <a href="https://github.com/lengfeld/aminilog">aminilog</a>
library as files to the git repository
<a href="https://github.com/inovex/android-glass-to-glass-latency/">android-glass-to-glass-latency</a>
and integrated them to the cmake build system.
In this example the git repository <em>android-glass-to-glass-latency</em> is the
superproject and the source dependency <em>aminilog</em> is the subproject.</p>
<h2 id="example-2-embedded-linux-firmware-based-on-yocto">Example 2: Embedded Linux firmware based on Yocto</h2>
<p>This example illustrates a multi repository setup of a Yocto project.</p>
<p>TODO add example</p>
<h2 id="recap">Recap</h2>
<p>TODO write recap</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../.." class="btn btn-neutral float-left" title="Home"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../history/" class="btn btn-neutral float-right" title="Pre-subpatch history">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../.." style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../history/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
